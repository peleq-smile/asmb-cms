{# Make sure the index data is defined. #}
{% if index is not defined %}
    {% set index = 0 %}
{% endif %}
{# Make sure the noPageLingk data is defined. #}
{% if embedIntoPage is not defined %}
    {% set embedIntoPage = false %}
{% endif %}

<div class="columns block {% if block.image %}block-with-image{% endif %} block-{{ (index is odd) ? 'odd':'even' }}">
    <div class="column block-content">
{#    <div class="column block-content"{% if block.block_content_width > 0 %} style="max-width: {{ block.block_content_width }}%;"{%endif%}>#}
        {% if not embedIntoPage and block.contentlink %}
            <h2 class="title"><a href="{{ block.contentlink }}">{{ block.title }}</a></h2>
        {% else %}
            <h2 class="title">{{ block.title }}</h2>
        {% endif %}

        {% if block.subtitle %}
            <h3 class="title">{{ block.subtitle }}</h3>
        {% endif %}

        {{ block.content }}

        {% if not embedIntoPage and block.contentlink %}
            <a href="{{ block.contentlink }}" class="button see-more"
               title="{{ block.contentlink_label|default('En savoir plus...') }}">
                {{ block.contentlink_label|default('En savoir plus...') }}
            </a>
        {% endif %}
    </div>

    {% if block.image %}
        <div class="column block-image">
{#        <div class="column block-image"{% if block.block_image_width > 0 %} style="max-width: {{ block.block_image_width }}%;"{%endif%}>#}
            {% if not embedIntoPage and block.contentlink %}
                <a class="image" href="{{ block.contentlink }}">
                    <img src="{{ asset(block.image, 'files') }}" alt="{{ block.values.image.title }}"
                         style="background-color: white; object-fit: {{ block.image_object_fit }};">
                    <span class="see-more">&plus; d'infos</span>
                </a>
            {% else %}
                <div class="image">
                    <img src="{{ asset(block.image, 'files') }}" alt="{{ block.values.image.title }}"
                         style="background-color: white; object-fit: {{ block.image_object_fit }};">
                </div>
            {% endif %}
        </div>
    {% endif %}
</div>
